1 - main.cpp

#include<iostream>
#include "mathlib.h"
using namespace std;

int main(){
    cout<<"addition: "<<add(2,3)<<endl;
    cout<<"subtraction: "<<sub(4,2)<<endl;
    cout<<"multiplication: "<<mul(3,5)<<endl;
    cout<<"divd: "<<divd(3.1,2.4)<<endl;
    cout<<"square: "<<sq(2)<<endl;

    return 0;
}
2 - mathlib.cpp

#include "mathlib.h"

int add(int a, int b){
    return (a+b);
}
int sub(int a, int b){
    return (a-b);
}

float divd(float a, float b){
    return(a/b);
}
int mul(int a ,int b){ 
    return (a*b);
}
int sq(int a) {
 return(a*a) ;
}


3 - mathlib.h

extern "C"{
    #endif

    int add(int a, int b);
    int sub(int a, int b);
    float divd(float a, float b);
    int mul(int a, int b);
    int sq(int a);
    #ifdef __cplusplus
}
#endif

4 - output 

g++ -fPIC -c MathLibrary.cpp -o MathLibrary.o
g++ -shared -o libmath.so MathLibrary.o
g++ main.cpp -L. -lmath -o main
LD_LIBRARY_PATH=. ./main
